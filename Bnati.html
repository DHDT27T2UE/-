<form id="form">
  <input type="text" name="name" placeholder="Ø§Ù„Ø§Ø³Ù…" required>
  <input type="text" name="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required>
  <button type="submit">Ø¥Ø±Ø³Ø§Ù„</button>
</form>

<div id="status">...</div>

<script>
const form = document.getElementById('form');
const statusDiv = document.getElementById('status');

form.onsubmit = function(e) {
  e.preventDefault();

  const name = form.name.value;
  const phone = form.phone.value;

  fetch("https://script.google.com/macros/s/AKfycbwlU6x6-bVEiCZ4ttDTaCtypfa51uGBCat4pFZWODz_s9_Dr_9s3kcH6GWxGjgjyktV/exec", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ name, phone })
  })
  .then(res => res.text())
  .then(result => {
    statusDiv.innerText = result;

    // ØªØ­Ù‚Ù‚ ÙƒÙ„ 5 Ø«ÙˆØ§Ù†ÙŠ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ù‚Ø¨ÙˆÙ„
    setInterval(() => {
      fetch(`https://script.google.com/macros/s/AKfycbwlU6x6-bVEiCZ4ttDTaCtypfa51uGBCat4pFZWODz_s9_Dr_9s3kcH6GWxGjgjyktV/exec?key=${phone}`)
        .then(res => res.text())
        .then(status => {
          if (status === "ØªÙ… Ø§Ù„Ù‚Ø¨ÙˆÙ„") {
            statusDiv.innerText = "ğŸ‰ ØªÙ… Ù‚Ø¨ÙˆÙ„Ùƒ!";
          } else {
            statusDiv.innerText = "â³ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©...";
          }
        });
    }, 5000);
  })
  .catch(err => {
    statusDiv.innerText = "âŒ ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„: " + err;
  });
}
</script>